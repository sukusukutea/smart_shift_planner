# smart-shift-planner
看護小規模多機能居宅介護施設向け　シフト自動化アプリ

## サービス概要
看護小規模多機能居宅介護施設（以下略：看多機）は、「通い・泊まり・訪問介護・訪問看護」を一体的に提供する複合型サービスです。  
「smart-shift-planner」は、この多様な勤務形態に対応した看多機専用のシフト作成支援アプリです。

## このサービスへの思い・作りたい理由
私が勤務している一つに、看多機があります。  
看多機は「通い・泊まり・訪問介護・訪問看護」を一体的に提供できる複合型のサービスとなっており、  
医療ニーズに高い利用者にも柔軟に対応できる点が、他の施設形態との大きな違いとなります。

現在職員のシフト管理は看多機の管理者により、エクセルを使用して作成。  
シフト作成には、通いに対応する看護・介護だけでなく訪問看護・訪問介護に出入りする職員とのバランス、  
利用者毎の医療依存度に合わせた人員配置、曜日固定や時間制約のある職員、そして利用者数に対する看護師の常勤換算など満たすべき条件が多く、
また休日希望など職員のライフワークバランスにも配慮するため、手作業での調整が中心となっています。  
現在シフト調整に要する時間は、細かい微調整を含めて半月かけながら8〜10時間ほど要していると伺いました。  

現管理者は施設全体の管理者でありながら、ケアマネージャーを兼務。  
また人員不足の際には看護師・運転手の役割を担うこともあり、多忙を極めています。  
そのような中でも職員とのコミニュケーションも大事にされており、とてもお世話になっていることから、  
いつか何かしらご恩に報いたいと感じていました。 

シフト自動化アプリを活用することで、シフト作成にかかる時間を短縮し、  
管理者の負担を減らす一助になればと願い、卒業制作アプリにしたいと思いました。  

## ユーザー層について
看多機のシフト作成者（現在の職場でいえば、管理者）

## サービスの利用イメージ
管理者は、職員情報と勤務形態を登録、月ごとの設定を追加して「シフト作成」をクリック。
システムが自動でシフト案を生成し、職員の勤務回数や常勤換算が条件を満たしているかをアラートで表示します。
不足箇所は手動で調整し、最終的にシフトを保存、エクセルへ出力します。  

## ユーザーの獲得について
現職場内での課題解決が目的のため、積極的な外部のユーザー獲得は目指していません。

## サービスの差別化ポイント・推しポイント
シフト自動化のアプリはたくさんありますが、医療介護現場においてのシフトアプリについては、  
施設や訪問用はあっても、看多機環境に特化したシフト管理アプリはありません。
看多機の中でも施設毎に特色が異なると思いますが、流動的な看護・介護の勤務形態を細かく設定できることが差別化になると思います。  

## 機能候補
### 【MVP】
#### フェーズ１
基本設定と条件をもとにシフト作成ができ、最小限のアラート表示、手動修正による半自動化を目指す
- 管理者ログイン機能
- アカウント編集機能
- 各種設定・登録機能
  - 職員情報登録
    - 職種：看護師、介護士、栄養士
    - 常勤換算設定：看護のみ設定
    - 車の運転：可or不可
    - 調理対応：可or不可
    - 出勤可能曜日：（例）月〜土、毎週火のみなど
    - 早番：可or不可
    - 遅番：可or不可
    - 夜勤：可or不可
  - 勤務形態の登録
    - デフォルト：日勤・早番・遅番・夜勤(基本「入明休のセット」)
  - 人員設定：人員配置の日別変更、勤務職員の指定
  - 休日設定：職員の休日希望設定、月の休日日数の設定
  - 勤務指定：特定の勤務追加機能
- シフト作成後の機能
  - アラート機能
    - 人員不足の日にアラート
  - 職員別に勤務回数・休日日数の表示
  - 手動修正・保存

#### フェーズ２
詳細な条件設定とアラート機能の拡張、エクセルへの出力機能実装
- 勤務条件設定
  - 看護の常勤換算基準設定（例：2.5人/日）
  - 日勤の連続上限
  - 夜勤の連続上限
  - 夜勤後の休日日数
  - 連続日勤後の休日日数
  - 連続夜勤後の休日日数
- 条件未達アラートの拡張
  - 連続勤務上限超過の有無
  - 休日希望未反映の有無
  - 常勤換算不足日にアラート
- 出力機能（エクセルへの出力）

### 【本リリース】
- UI/UXの向上
- AI提案（履歴学習）

## 画面遷移図
参考Figma：https://www.figma.com/design/r1Jvlus70r5jMBNco6odXf/smart-shift-planner%E3%80%80%E7%94%BB%E9%9D%A2%E9%81%B7%E7%A7%BB%E5%9B%B3?node-id=0-1&t=ZQ7qy500AxCeb9Dr-1

## 使用する技術スタック
- 使用するフレームワーク：Ruby on Rails 7.1.x
- データベース：PostgreSQL
- デプロイ先：Render
- 使用予定のライブラリ
 - セキュリティ対策
   - ユーザー登録・認証 : gem 'devise'
   - 認可制御： gem 'pundit'
   - パスワード暗号化: gem 'bcrypt'
 - UI/UX用  
   - スタイルフレームワーク： Tailwind CSS（gem 'tailwindcss-rails'）
   - 非同期通信・動的更新
     - gem 'turbo-rails'(Rails7に標準装備)
     - gem 'stimulus-rails'(Rails7に標準装備) 
 - シフト作成用
   - フェーズ１のシフト作成用：gem 'rglpk'
   - フェーズ２の制約充足問題に対応 : gem 'or-tools'
 - カレンダー対応
   - 繰り返しのスケジュール管理： gem 'ice_cube'
   - 平日・休日を考慮した日付演算： gem 'business_time'
   - 祝日判定: gem 'holidays'
 - Excleへの対応
   - Excleへの書き込み・編集：　gem 'rubyXL'
